@using Localization.Resources.AbpUi
@using Microsoft.AspNetCore.Mvc.Localization
@using Volo.Abp.MultiTenancy
@using Volo.Abp.UI.Navigation
@using Volo.Abp.Users
@inject ICurrentUser CurrentUser
@inject ICurrentTenant CurrentTenant
@inject IHtmlLocalizer<AbpUiResource> L
@model ApplicationMenu

<div class="kt-header__topbar-item kt-header__topbar-item--user">
    <div class="kt-header__topbar-wrapper" data-toggle="dropdown" data-offset="0px,0px">
        <div class="kt-header__topbar-user">
            <span class="kt-header__topbar-username kt-hidden-mobile">
                @if (CurrentUser.TenantId != null)
                {
    <small><i>@CurrentTenant.Name</i>\</small>@CurrentUser.UserName }
                else
                {
    @CurrentUser.UserName}
            </span>
            <img class="kt-hidden" alt="Pic" src="~/themes/metronic/media/users/300_25.jpg" />
            <!--use below badge element instead the user avatar to display username's first letter(remove kt-hidden class to display it) -->
            <span class="kt-badge kt-badge--username kt-badge--unified-success kt-badge--lg kt-badge--rounded kt-badge--bold">S</span>
        </div>
    </div>
    <div class="dropdown-menu dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-xl">

        <!--begin: Head -->
        <div class="kt-user-card kt-user-card--skin-dark kt-notification-item-padding-x" style="background-image: url(assets/media/misc/bg-1.jpg)">
            <div class="kt-user-card__avatar">
                <img class="kt-hidden" alt="Pic" src="~/themes/metronic/media/users/300_25.jpg" />

                <!--use below badge element instead the user avatar to display username's first letter(remove kt-hidden class to display it) -->
                <span class="kt-badge kt-badge--lg kt-badge--rounded kt-badge--bold kt-font-success">S</span>
            </div>
            <div class="kt-user-card__name">
                Sean Stone
            </div>
            <div class="kt-user-card__badge">
                <span class="btn btn-success btn-sm btn-bold btn-font-md">23 messages</span>
            </div>
        </div>
        <!--end: Head -->
        <!--begin: Navigation -->
        @if (Model.Items.Any())
        {
<div class="kt-notification">
    @foreach (var menuItem in Model.Items)
    {
        var elementId = string.IsNullOrEmpty(menuItem.ElementId) ? string.Empty : $"id=\"{menuItem.ElementId}\"";
        var cssClass = string.IsNullOrEmpty(menuItem.CssClass) ? string.Empty : menuItem.CssClass;
        var disabled = menuItem.IsDisabled ? "disabled" : string.Empty;
        var url = string.IsNullOrEmpty(menuItem.Url) ? "#" : Url.Content(menuItem.Url);

<a class="kt-notification__item @cssClass @disabled" href="@url" target="@menuItem.Target" @Html.Raw(elementId)>
    @if (menuItem.Icon != null)
    {
        if (menuItem.Icon.StartsWith("fa"))
        {
<div class="kt-notification__item-icon">
    <i class="flaticon2-calendar-3 kt-font-success @menuItem.Icon"></i>
</div>}
}



    <div class="kt-notification__item-details">
        <div class="kt-notification__item-title kt-font-bold">
            @menuItem.DisplayName
        </div>
        <div class="kt-notification__item-time">
            Account settings and more
        </div>
    </div>
</a>        }
</div>}

        <!--end: Navigation -->
    </div>
</div>